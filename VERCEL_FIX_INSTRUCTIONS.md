# üîß Instructions pour R√©parer le D√©ploiement Vercel

## ‚ö†Ô∏è Probl√®me Actuel

Le d√©ploiement √©choue avec l'erreur :
```
Error: Found invalid Node.js Version: "20.x". Please set Node.js Version to 18.x in your Project Settings to use Node.js 18.
```

## ‚úÖ Solution : Changer la Version Node.js dans les Param√®tres Vercel

### √âtape 1 : Acc√©der aux Param√®tres du Projet

1. Allez sur [vercel.com](https://vercel.com)
2. Connectez-vous avec votre compte
3. S√©lectionnez le projet **webapp** (ikips-projects/webapp)
4. Cliquez sur **Settings** (Param√®tres)

### √âtape 2 : Modifier la Version Node.js

1. Dans le menu de gauche, cliquez sur **General**
2. Trouvez la section **Node.js Version**
3. Changez la version de **20.x** √† **18.x**
4. Cliquez sur **Save** (Enregistrer)

### √âtape 3 : Red√©ployer

Deux options pour red√©ployer :

#### Option A : Via l'interface Vercel
1. Allez dans l'onglet **Deployments**
2. Cliquez sur le bouton **Redeploy** du dernier d√©ploiement
3. S√©lectionnez **Use existing Build Cache** (d√©cochez si probl√®mes persistent)
4. Cliquez sur **Redeploy**

#### Option B : Via un nouveau commit (automatique)
Les changements ont d√©j√† √©t√© push√©s sur GitHub. Un nouveau d√©ploiement devrait se d√©clencher automatiquement une fois la version Node.js chang√©e.

## üåê URLs de l'Application

Apr√®s un d√©ploiement r√©ussi, vous pourrez acc√©der √† :

- **Page d'accueil** : https://webapp-[hash].vercel.app/
- **Login Admin** : https://webapp-[hash].vercel.app/login/admin
- **Login Patient** : https://webapp-[hash].vercel.app/login/patient
- **Dashboard Admin** : https://webapp-[hash].vercel.app/admin/dashboard
- **Dashboard Patient** : https://webapp-[hash].vercel.app/patient/dashboard

## üë§ Identifiants Admin

Pour vous connecter en tant qu'administrateur :

- **Email** : doriansarry@yahoo.fr
- **Mot de passe** : admin123

## üîê Variables d'Environnement Requises

Assurez-vous que ces variables sont configur√©es dans **Settings ‚Üí Environment Variables** :

```
DATABASE_URL=postgresql://neondb_owner:npg_6aG2wNlTWnsb@ep-autumn-bar-abt09oc2-pooler.eu-west-2.aws.neon.tech/neondb?sslmode=require&channel_binding=require

JWT_SECRET=medplan-jwt-secret-key-2024-production

JWT_EXPIRES_IN=24h

SESSION_SECRET=medplan-session-secret-2024-production

NODE_ENV=production

VITE_API_URL=/api
```

## üìù Modifications Effectu√©es

Les changements suivants ont √©t√© appliqu√©s pour r√©soudre le probl√®me :

1. ‚úÖ Correction de `vercel.json` pour am√©liorer le routage API
2. ‚úÖ Sp√©cification de Node.js 18.x dans `package.json` (engines)
3. ‚úÖ Ajout de `NODE_VERSION=18` dans `vercel.json`
4. ‚úÖ Suppression des fichiers `.nvmrc` et `.node-version` qui causaient des conflits
5. ‚úÖ Test du build local (r√©ussi)
6. ‚úÖ Commits et push sur GitHub

## üöÄ Prochaines √âtapes

1. Changez la version Node.js √† 18.x dans les param√®tres Vercel (√©tape critique ‚ö†Ô∏è)
2. Attendez que le nouveau d√©ploiement se termine
3. Testez l'acc√®s aux pages admin et patient
4. Si le probl√®me persiste, v√©rifiez les logs de d√©ploiement dans Vercel

## üìû Support

Si le probl√®me persiste apr√®s avoir chang√© la version Node.js :
1. V√©rifiez les logs de d√©ploiement dans Vercel
2. Assurez-vous que toutes les variables d'environnement sont configur√©es
3. Essayez un red√©ploiement en d√©sactivant le cache

---

**Derni√®re mise √† jour** : 2025-10-22
**Status** : ‚ö†Ô∏è En attente du changement de version Node.js dans les param√®tres Vercel
