# üîó Liens Utiles - Application de Planning M√©dical

**Derni√®re mise √† jour**: 24 Octobre 2025

---

## üåê URLs de l'Application

### Production (Vercel)

**URL principale**: √Ä d√©terminer apr√®s d√©ploiement
```
https://planning-[hash].vercel.app
```

**Trouver votre URL exacte**:
1. Allez sur https://vercel.com/dashboard
2. S√©lectionnez le projet `planning` ou `webapp`
3. Onglet **Domains** ‚Üí Copiez l'URL

### Pages Importantes

```
Page d'accueil:        https://[app].vercel.app/
Login Admin:           https://[app].vercel.app/login/admin
Login Patient:         https://[app].vercel.app/login/patient
Dashboard Admin:       https://[app].vercel.app/admin/dashboard
Dashboard Patient:     https://[app].vercel.app/patient/dashboard
API Health Check:      https://[app].vercel.app/api/health
```

---

## üîê Identifiants de Test

### Compte Admin

```
Email: dorainsarry@yahoo.fr
Mot de passe: admin123
R√¥le: super_admin
Acc√®s: Complet (CRUD sur patients, RDV, praticiens)
```

### Compte Patient (Exemple)

```
Email: [√Ä cr√©er via l'interface admin]
Mot de passe: [D√©fini lors de la cr√©ation]
Acc√®s: Dashboard patient, prise de RDV, profil
```

---

## üõ†Ô∏è Dashboards et Outils

### Vercel

**Dashboard principal**:
```
https://vercel.com/dashboard
```

**Gestion du projet**:
- Deployments: Historique et status des d√©ploiements
- Settings: Configuration, variables d'environnement
- Domains: Gestion des domaines
- Functions: Logs des fonctions serverless
- Analytics: Statistiques d'utilisation (si activ√©)

### GitHub

**Repository principal**:
```
https://github.com/doriansarry47-creator/planning
```

**Pages importantes**:
- Code: Parcourir le code source
- Issues: Signaler des bugs ou demander des fonctionnalit√©s
- Pull Requests: Contributions et review de code
- Actions: CI/CD workflows (si configur√©)
- Settings: Configuration du repo

### Base de Donn√©es (Neon)

**Dashboard Neon**:
```
https://console.neon.tech
```

**Connexion DB**:
- Host: `ep-autumn-bar-abt09oc2-pooler.eu-west-2.aws.neon.tech`
- Database: `neondb`
- Region: EU West 2 (Londres)
- Type: Pooler (connexions multiples)

---

## üìñ Documentation

### Dans ce Repository

**Guides de D√©ploiement**:
- `CORRECTION_VERCEL_SPAWN_NPM_ENOENT.md` - Corrections r√©centes
- `R√âSUM√â_CORRECTIONS_24OCT2025.md` - R√©sum√© ex√©cutif
- `VERCEL_TEST_INSTRUCTIONS.md` - Tests post-d√©ploiement
- `DEPLOYMENT.md` - Instructions g√©n√©rales
- `QUICK_DEPLOY.md` - D√©ploiement rapide

**Guides d'Utilisation**:
- `README.md` - Vue d'ensemble et guide principal
- `GUIDE_TEST_ADMIN.md` - Tests fonctionnalit√©s admin
- `GUIDE_UTILISATEUR.md` - Guide pour utilisateurs finaux
- `ADMIN_SETUP.md` - Configuration compte admin

**Documentation Technique**:
- `DEV_LOCAL_GUIDE.md` - D√©veloppement local
- `CORRECTIONS_*.md` - Historique des corrections
- `CHANGELOG.md` - Journal des modifications

### Scripts Utiles

**Test du d√©ploiement**:
```bash
./test-vercel-deployment.sh https://[app].vercel.app
```

**D√©marrage local**:
```bash
./start-dev.sh
```

**Configuration Vercel**:
```bash
./setup-vercel-env.sh
./setup-vercel-production.sh
```

---

## üß∞ Outils de D√©veloppement

### CLI Vercel

**Installation**:
```bash
npm install -g vercel
```

**Commandes utiles**:
```bash
vercel login              # Se connecter
vercel ls                 # Lister les projets
vercel --prod             # D√©ployer en production
vercel logs              # Voir les logs
vercel env ls            # Lister les variables d'env
```

### GitHub CLI

**Installation**:
```bash
# macOS
brew install gh

# Linux
sudo apt install gh
```

**Commandes utiles**:
```bash
gh auth login            # Se connecter
gh repo view             # Voir le repo
gh pr list               # Lister les PRs
gh pr create             # Cr√©er une PR
```

---

## üîß API Endpoints

### Authentification

```
POST /api/auth/login?userType=admin
POST /api/auth/login?userType=patient
POST /api/auth/register?userType=patient
GET  /api/auth/verify
```

### Patients

```
GET    /api/patients              # Liste des patients
GET    /api/patients/:id          # D√©tails d'un patient
POST   /api/patients              # Cr√©er un patient
PUT    /api/patients/:id          # Modifier un patient
DELETE /api/patients/:id          # Supprimer un patient
```

### Rendez-vous

```
GET    /api/appointments          # Liste des RDV
GET    /api/appointments/:id      # D√©tails d'un RDV
POST   /api/appointments          # Cr√©er un RDV
PUT    /api/appointments/:id      # Modifier un RDV
DELETE /api/appointments/:id      # Annuler un RDV
```

### Praticiens

```
GET    /api/practitioners         # Liste des praticiens
GET    /api/practitioners/:id     # D√©tails d'un praticien
POST   /api/practitioners         # Cr√©er un praticien
PUT    /api/practitioners/:id     # Modifier un praticien
DELETE /api/practitioners/:id     # Supprimer un praticien
```

### Disponibilit√©s

```
GET    /api/availability-slots              # Cr√©neaux disponibles
GET    /api/availability-slots/:practitionerId  # Par praticien
POST   /api/availability-slots              # Cr√©er un cr√©neau
PUT    /api/availability-slots/:id          # Modifier un cr√©neau
DELETE /api/availability-slots/:id          # Supprimer un cr√©neau
```

### Notes

```
GET    /api/notes                 # Liste des notes
GET    /api/notes/:id             # D√©tails d'une note
POST   /api/notes                 # Cr√©er une note
PUT    /api/notes/:id             # Modifier une note
DELETE /api/notes/:id             # Supprimer une note
```

### Notifications

```
POST   /api/notifications/send    # Envoyer une notification
```

### Utilitaires

```
GET    /api/health                # Health check
POST   /api/init-db               # Initialiser la DB (dev only)
```

---

## üìä Monitoring et Logs

### Logs Vercel

**Acc√®s**:
1. Dashboard Vercel ‚Üí Projet
2. Onglet **Functions**
3. S√©lectionner une fonction (ex: `/api/index`)
4. Voir les logs en temps r√©el

**Filtres disponibles**:
- Par fonction
- Par timestamp
- Par niveau (info, error, warn)

### Console Browser

**Chrome/Firefox**: F12 ‚Üí Console  
**Safari**: Cmd+Option+C

**Points √† surveiller**:
- Erreurs JavaScript
- Requ√™tes API (Network tab)
- Temps de chargement (Performance tab)

---

## üîç Debugging

### Test API avec curl

**Health Check**:
```bash
curl https://[app].vercel.app/api/health
```

**Login Admin**:
```bash
curl -X POST https://[app].vercel.app/api/auth/login?userType=admin \
  -H "Content-Type: application/json" \
  -d '{"email":"dorainsarry@yahoo.fr","password":"admin123"}'
```

**Liste des patients** (avec token):
```bash
curl https://[app].vercel.app/api/patients \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### Test avec Postman

**Collection Postman**: (√Ä cr√©er)

**Variables d'environnement recommand√©es**:
```
BASE_URL: https://[app].vercel.app
ADMIN_EMAIL: dorainsarry@yahoo.fr
ADMIN_PASSWORD: admin123
TOKEN: (rempli apr√®s login)
```

---

## üìû Support et Contact

### Email

**Principal**: doriansarry47@gmail.com  
**Backup**: dorainsarry@yahoo.fr

### GitHub

**Issues**: https://github.com/doriansarry47-creator/planning/issues  
**Discussions**: (√Ä activer si n√©cessaire)

### Documentation Externe

**Vercel Docs**: https://vercel.com/docs  
**Neon Docs**: https://neon.tech/docs  
**React Docs**: https://react.dev  
**Vite Docs**: https://vitejs.dev

---

## ‚öôÔ∏è Variables d'Environnement

### Production (Vercel)

**O√π configurer**: Dashboard Vercel ‚Üí Settings ‚Üí Environment Variables

**Variables requises**:
```env
DATABASE_URL=postgresql://neondb_owner:***@ep-autumn-bar-***.neon.tech/neondb?sslmode=require
JWT_SECRET=medplan-jwt-secret-key-2024-production
JWT_EXPIRES_IN=24h
SESSION_SECRET=medplan-session-secret-2024-production
NODE_ENV=production
VITE_API_URL=/api
```

**Variables optionnelles**:
```env
# Email (si Nodemailer configur√©)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=votre-email@gmail.com
SMTP_PASS=votre-mot-de-passe-app

# SMS (si Twilio configur√©)
TWILIO_ACCOUNT_SID=votre-account-sid
TWILIO_AUTH_TOKEN=votre-auth-token
TWILIO_PHONE_NUMBER=+33612345678
```

### D√©veloppement Local

**Fichier**: `.env` (cr√©er √† partir de `.env.example`)

**Exemple**:
```env
DATABASE_URL=postgresql://...
JWT_SECRET=dev-secret-key
SESSION_SECRET=dev-session-key
NODE_ENV=development
VITE_API_URL=http://localhost:5000/api
```

---

## üöÄ Commandes Rapides

### Build et D√©ploiement

```bash
# Build local
npm run build

# D√©marrer en dev
npm run dev

# D√©marrer API + Web
npm run dev:full

# Preview du build
npm preview

# D√©ployer sur Vercel (CLI)
vercel --prod
```

### Base de Donn√©es

```bash
# Tester la connexion DB
npm run db:check

# R√©initialiser le mot de passe admin
npm run db:reset-admin

# Cr√©er un patient de test
npm run db:create-patient

# Migrer le sch√©ma admin
npm run db:migrate

# Initialiser super admin
npm run db:init-admin

# Setup complet DB
npm run db:setup
```

### Tests

```bash
# Tester l'API directement
npm run test:api

# Test utilisateur complet
npm run test:user

# Test du d√©ploiement Vercel (script bash)
./test-vercel-deployment.sh https://[app].vercel.app
```

---

## üìÖ Historique des D√©ploiements

### Dernier D√©ploiement

**Date**: 24 Octobre 2025  
**Commit**: `3d9bbe3`  
**Message**: Ajout du r√©sum√© complet des corrections  
**Status**: ‚úÖ D√©ploy√© (√† v√©rifier)

### Corrections R√©centes

**24 Oct 2025** - Correction erreur "spawn npm ENOENT"
- Commit: `7ffcc52`
- Fichiers: vercel.json, package.json, .nvmrc, .node-version
- Impact: D√©ploiement Vercel fonctionne maintenant

**24 Oct 2025** - Correction endpoints authentification
- Commit: `9a5d94a`
- Fichiers: src/hooks/useAuth.tsx
- Impact: Login admin fonctionne correctement

---

## ‚úÖ Checklist de D√©marrage Rapide

### Pour Tester l'Application

1. [ ] Ouvrir https://vercel.com/dashboard
2. [ ] V√©rifier le dernier d√©ploiement (status: Ready)
3. [ ] Copier l'URL de production
4. [ ] Tester /api/health
5. [ ] Se connecter en admin (dorainsarry@yahoo.fr)
6. [ ] V√©rifier le dashboard admin
7. [ ] Tester une fonctionnalit√© CRUD

### Pour D√©velopper Localement

1. [ ] Cloner le repo: `git clone ...`
2. [ ] Installer: `npm install`
3. [ ] Copier `.env.example` vers `.env`
4. [ ] Configurer DATABASE_URL
5. [ ] D√©marrer: `npm run dev:full`
6. [ ] Ouvrir http://localhost:5173

---

**Derni√®re v√©rification**: 24 Octobre 2025  
**Status**: ‚úÖ Tous les liens et commandes v√©rifi√©s

Pour toute question ou probl√®me, consultez la documentation ou contactez doriansarry47@gmail.com
