# üöÄ D√©ploiement Rapide sur Vercel

## M√©thode 1 : D√©ploiement via Interface Web Vercel (Recommand√©)

### √âtape 1 : Connecter votre Repo GitHub √† Vercel

1. **Aller sur Vercel** : https://vercel.com/new
2. **Importer votre projet Git** :
   - S√©lectionner "Import Git Repository"
   - Autoriser Vercel √† acc√©der √† GitHub
   - S√©lectionner le repo : `doriansarry47-creator/planning`

3. **Configurer le projet** :
   - **Project Name** : `medplan-app` (ou autre nom)
   - **Framework Preset** : `Vite`
   - **Root Directory** : `./` (laisser par d√©faut)
   - **Build Command** : `npm run build`
   - **Output Directory** : `dist`

4. **Ajouter les Variables d'Environnement** :

Cliquer sur "Environment Variables" et ajouter :

```
DATABASE_URL = postgresql://votre-connection-string-neon
JWT_SECRET = votre-secret-jwt-32-caracteres-minimum
SESSION_SECRET = votre-secret-session-32-caracteres-minimum
NODE_ENV = production
```

**Pour g√©n√©rer des secrets s√©curis√©s** :
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

5. **D√©ployer** :
   - Cliquer sur "Deploy"
   - Attendre 2-3 minutes
   - ‚úÖ Votre app est live !

---

## M√©thode 2 : D√©ploiement via CLI (Alternative)

### Pr√©requis
```bash
npm install -g vercel
```

### √âtapes

1. **Se connecter √† Vercel**
```bash
vercel login
```

2. **D√©ployer**
```bash
cd /home/user/webapp
vercel
```

3. **Questions √† r√©pondre** :
```
? Set up and deploy "~/webapp"? [Y/n] Y
? Which scope? <votre-compte-vercel>
? Link to existing project? [y/N] N
? What's your project's name? medplan-app
? In which directory is your code located? ./
```

4. **Configurer les variables d'environnement** :
```bash
vercel env add DATABASE_URL
# Coller votre URL de connexion Neon

vercel env add JWT_SECRET
# Coller votre secret JWT

vercel env add SESSION_SECRET
# Coller votre secret de session
```

5. **D√©ployer en production** :
```bash
vercel --prod
```

---

## üóÑÔ∏è Configuration de la Base de Donn√©es Neon

1. **Cr√©er un compte Neon** : https://neon.tech
2. **Cr√©er un nouveau projet** :
   - Nom : `MedPlan Production`
   - R√©gion : Europe (eu-central-1) recommand√©
3. **Copier la Connection String** :
   ```
   postgresql://user:pass@ep-xxx.eu-central-1.aws.neon.tech/neondb?sslmode=require
   ```
4. **Initialiser le sch√©ma** :
   
   Option A : Via Drizzle (si configur√©)
   ```bash
   npx drizzle-kit push:pg
   ```
   
   Option B : Manuellement via SQL
   - Aller dans l'interface Neon
   - Ouvrir le Query Editor
   - Copier/coller le sch√©ma depuis `shared/schema.ts` ou `shared/schema-enhanced.ts`

5. **Cr√©er un utilisateur admin** :
   ```sql
   INSERT INTO admins (email, password, name)
   VALUES ('admin@medplan.fr', '$2a$12$...', 'Dorian Sarry');
   ```
   
   Ou utiliser le script :
   ```bash
   npm run db:reset-admin
   ```

---

## ‚úÖ V√©rification Post-D√©ploiement

Une fois d√©ploy√©, v√©rifiez :

1. **Page d'accueil** : `https://medplan-app.vercel.app`
2. **API Health** : `https://medplan-app.vercel.app/api/health`
3. **Connexion admin** : `https://medplan-app.vercel.app/login/admin`
   - Email : `admin@medplan.fr`
   - Password : celui d√©fini lors de la cr√©ation

---

## üîß D√©pannage Rapide

### Erreur 500 apr√®s d√©ploiement
- V√©rifier que toutes les variables d'environnement sont d√©finies
- V√©rifier les logs : `vercel logs https://medplan-app.vercel.app`

### Build Failed
- V√©rifier localement : `npm run build`
- Corriger les erreurs TypeScript
- Re-commit et re-d√©ployer

### Base de donn√©es inaccessible
- V√©rifier que `DATABASE_URL` est correct
- V√©rifier que Neon DB est dans la m√™me r√©gion (pr√©f√©rablement EU)
- Tester la connexion : `psql $DATABASE_URL`

---

## üìö Documentation Compl√®te

Pour plus de d√©tails, voir :
- **Guide complet** : [DEPLOYMENT_GUIDE_V3.md](./DEPLOYMENT_GUIDE_V3.md)
- **Am√©liorations strat√©giques** : [AMELIORATIONS_STRATEGIQUES.md](./AMELIORATIONS_STRATEGIQUES.md)

---

## üéâ F√©licitations !

Votre application MedPlan est maintenant en ligne !

**URL de production** : `https://medplan-app.vercel.app`

**Prochaines √©tapes** :
1. Configurer un domaine personnalis√© (ex: `rdv.medplan-sarry.fr`)
2. Activer Vercel Analytics
3. Configurer les emails SMTP pour les notifications
4. Ajouter les SMS via Twilio (optionnel)

---

*Guide de d√©ploiement rapide - MedPlan v3.0*
